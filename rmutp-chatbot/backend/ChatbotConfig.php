<?php
/**
 * ChatbotConfig - การตั้งค่าทั้งหมดของระบบ Chatbot
 * 
 * รวมค่าคงที่, น้ำหนักคะแนน, keywords, patterns ทั้งหมดไว้ที่เดียว
 * เพื่อให้ง่ายต่อการแก้ไขและดูแลรักษา
 * 
 * @version 2.0 (Refactored 2026-02-09)
 */
class ChatbotConfig
{
    // =============================================
    // ===== ค่าน้ำหนักคะแนน (Scoring Weights) =====
    // =============================================
    const SCORE_EXACT_MATCH       = 2000;  // คำถามตรงเป๊ะ
    const SCORE_CRITICAL_KEYWORD  = 1500;  // คำสำคัญวิกฤต (เกรด F, รีไทร์)
    const SCORE_IMPORTANT_PHRASE  = 1000;  // วลีสำคัญ (แผนการเรียน, ค่าเทอม)
    const SCORE_EXACT_MATCH_2     = 1000;  // จับคู่ตรงซ้ำ (safety net)
    const SCORE_DEPT_MATCH        = 800;   // สาขาตรงกัน
    const SCORE_PHRASE_MATCH      = 500;   // ข้อความอยู่ในคำถาม
    const SCORE_CATEGORY_MATCH    = 500;   // หมวดหมู่ตรงกัน
    const SCORE_INTENT_MATCH      = 400;   // ประเภทคำถามตรงกัน
    const SCORE_LENGTH_CLOSE      = 400;   // ความยาวใกล้เคียงมาก (<=5)
    const SCORE_PHRASE_POS_START  = 300;   // คำค้นอยู่ต้นประโยค
    const SCORE_NORMALIZED_PHRASE = 300;   // จับคู่หลัง normalize
    const SCORE_GENERAL_DEPT      = 300;   // FAQ เป็น general (ไม่ระบุสาขา)
    const SCORE_LENGTH_MEDIUM     = 200;   // ความยาวใกล้เคียงปานกลาง (<=15)
    const SCORE_PHRASE_POS_NEAR   = 100;   // คำค้นใกล้ต้นประโยค
    const SCORE_MULTI_KW_BONUS    = 100;   // มีหลายคำตรง (>=2)
    const SCORE_KW_IN_QUESTION    = 50;    // คำอยู่ในคำถาม (ต่อคำ)
    const SCORE_LENGTH_FAR        = 50;    // ความยาวต่างพอสมควร (<=30)
    const SCORE_KW_IN_KEYWORDS    = 30;    // คำอยู่ใน keywords field (ต่อคำ)
    const SCORE_KW_IN_ANSWER      = 5;     // คำอยู่ในคำตอบ (ต่อคำ)
    const SCORE_INTENT_MISMATCH   = -100;  // ประเภทคำถามไม่ตรง
    const SCORE_DEPT_MISMATCH     = -400;  // สาขาไม่ตรง

    // =============================================
    // ===== Confidence Thresholds =====
    // =============================================
    const CONFIDENCE_MIN          = 35;    // คะแนนต่ำสุดที่ยอมรับ (%)
    const AI_CONFIDENCE_HIGH      = 0.7;   // AI มั่นใจสูง
    const AI_CONFIDENCE_LOW       = 0.4;   // AI ใช้ได้

    // =============================================
    // ===== Intent → Category Mapping (AI) =====
    // =============================================
    public static array $intentCategoryMap = [
        // Old format (จาก API server keyword rules)
        'ask_tuition'    => 'loan',
        'ask_staff'      => 'staff',
        'ask_admission'  => 'admission',
        'ask_loan'       => 'loan',
        'ask_department' => 'program',
        'ask_facility'   => 'facilities',
        'ask_grade'      => 'general',
        'ask_news'       => 'activities',
        'ask_contact'    => 'contact',
        // New format (จาก trained model)
        'tuition'     => 'loan',
        'admission'   => 'admission',
        'loan'        => 'loan',
        'program'     => 'program',
        'career'      => 'career',
        'facilities'  => 'facilities',
        'contact'     => 'contact',
        'general'     => 'general',
        'activities'  => 'activities',
        'research'    => 'research',
        'graduation'  => 'graduation',
        'regulations' => 'general',
        'cooperation' => 'cooperation',
        'about'       => 'about',
        'curriculum'  => 'curriculum',
        'document'    => 'document',
        'greeting'    => null,
        'internship'  => 'internship',
        // Merged categories (backward compat)
        'location'    => 'contact',
        'sports'      => 'activities',
        'library'     => 'facilities',
        'information' => 'general',
        'history'     => 'about',
        'fee'         => 'loan',
        'other'       => null,
    ];

    // =============================================
    // ===== Related Categories (AI filter ขยาย) =====
    // =============================================
    // เมื่อ AI จำแนก category หนึ่ง ให้รวม categories ที่เกี่ยวข้องด้วย
    public static array $relatedCategories = [
        'program'     => ['curriculum', 'about', 'general', 'activities', 'contact', 'admission', 'หลักสูตร'],
        'curriculum'  => ['program', 'หลักสูตร'],
        'about'       => ['program', 'general', 'contact', 'หลักสูตร'],
        'general'     => ['about', 'document', 'cooperation', 'staff', 'facilities', 'research', 'activities', 'contact', 'หลักสูตร', 'program', 'curriculum', 'career', 'graduation'],
        'loan'        => ['admission'],
        'admission'   => ['loan', 'program'],
        'graduation'  => ['academic', 'career'],
        'career'      => ['program', 'graduation'],
        'activities'  => ['facilities', 'cooperation'],
        'academic'    => ['graduation', 'general', 'about', 'career'],
        'research'    => ['document', 'program'],
        'staff'       => ['contact'],
        'contact'     => ['activities', 'about', 'facilities', 'general'],
        'facilities'  => ['contact', 'general'],
        'document'    => ['cooperation'],
        'cooperation' => ['document', 'about'],
        'หลักสูตร'     => ['program', 'curriculum', 'general', 'about'],
    ];

    // =============================================
    // ===== Intent Patterns (ตรวจจับประเภทคำถาม) =====
    // =============================================
    public static array $intentPatterns = [
        'contact'       => ['ติดต่อ', 'เบอร์', 'โทร', 'อีเมล', 'email', 'โทรศัพท์', 'เว็บไซต์', 'Facebook', 'Line', 'ช่องทาง', 'อยู่ที่ไหน', 'ตั้งอยู่', 'ที่ตั้ง', 'สถานที่จัดการเรียนการสอน', 'สถานที่เรียน', 'อาคาร', 'แผนที่', 'เดินทาง', 'MRT', 'BTS', 'อยู่ตรงไหน'],
        'definition'    => ['คืออะไร', 'หมายถึง', 'ความหมาย', 'นิยาม', 'อธิบาย', 'เรียนเกี่ยวกับ'],
        'curriculum'    => ['เปิดสอน', 'หลักสูตร', 'วิชา', 'สาขาวิชา', 'แขนง', 'รายวิชา', 'เรียนอะไร', 'โปรแกรม'],
        'admission'     => ['รับสมัคร', 'สมัคร', 'รับนักศึกษา', 'เข้าเรียน', 'สอบเข้า', 'คัดเลือก', 'คุณสมบัติ', 'TCAS', 'โควตา'],
        'qualification' => ['วุฒิ', 'รับผู้จบ', 'จบอะไร', 'ม.6', 'ม.3', 'ปวช', 'ปวส', 'มัธยม', 'อาชีวะ', 'รับวุฒิอะไร', 'วุฒิการศึกษา', 'เรียนต่อ'],
        'grade'         => ['เกรด', 'ติด F', 'ติด I', 'สอบตก', 'เรียนซ้ำ', 'แก้เกรด', 'Re-grade', 'GPA', 'GPAX', 'ระดับคะแนน', 'พ้นสภาพ', 'รีไทร์'],
        'graduation'    => ['จบการศึกษา', 'สำเร็จการศึกษา', 'เกณฑ์จบ', 'เงื่อนไขจบ', 'เงื่อนไขการจบ', 'สอบจบ', 'graduation', 'ปริญญา', 'รับปริญญา'],
        'facility'      => ['ห้องปฏิบัติการ', 'ห้องแล็บ', 'ห้อง Lab', 'ห้องLab', 'lab', 'อุปกรณ์', 'สิ่งอำนวยความสะดวก', 'ห้องเรียน', 'เครื่องมือ', 'แล็บ', 'ห้องสมุด', 'library', 'หนังสือ'],
        'cooperation'   => ['ความร่วมมือ', 'ร่วมมือ', 'บริษัทภายนอก', 'MOU', 'สหกิจศึกษา', 'พันธมิตร', 'หน่วยงานภายนอก'],
        'activity'      => ['กิจกรรม', 'โครงการ', 'งานวิจัย', 'research', 'ฝึกงาน', 'สหกิจ', 'อบรม', 'กีฬา', 'กีฬาสี', 'แข่งขัน', 'นอกหลักสูตร', 'ชมรม', 'ออกกำลังกาย'],
        // หมายเหตุ: ตัด 'อ.' ออกเพราะ match กับ 'กรอ.' ผิด
        'staff'         => ['อาจารย์', 'คณาจารย์', 'ผู้สอน', 'บุคลากร', 'หัวหน้าสาขา', 'ใครสอน', 'รายชื่ออาจารย์', 'รายชื่อ', 'ประธานหลักสูตร'],
        'duration'      => ['เรียนกี่ปี', 'ระยะเวลา', 'กี่เทอม', 'กี่ภาค', 'กี่หน่วยกิต', 'ใช้เวลา', 'นานแค่ไหน'],
        'scholarship'   => ['ทุน', 'กยศ', 'กรอ', 'ทุนการศึกษา', 'กู้ยืม', 'เงินกู้', 'ทุนเรียนดี', 'scholarship', 'เอกสารกู้', 'แบบฟอร์มกู้', 'ค่าเทอม', 'ค่าเล่าเรียน', 'ค่าใช้จ่าย', 'ค่าลงทะเบียน', 'ค่าธรรมเนียม', 'กี่บาท'],
        'career'        => ['จบแล้วทำงาน', 'อาชีพ', 'เงินเดือน', 'ทำงานอะไร', 'ตำแหน่ง', 'บริษัท', 'งาน', 'ทำไมควรเรียน', 'ทำไมต้องเรียน'],
        'history'       => ['ประวัติ', 'ความเป็นมา', 'ก่อตั้ง', 'เปิดสอนเมื่อไหร่'],
    ];

    // =============================================
    // ===== Staff Detection =====
    // =============================================

    // คำที่ทำให้เข้า Phase 2 Staff Search
    // หมายเหตุ: 'รศ.' ต้องมีจุด เพราะ 'รศ' match กับ "กา-รศ-ึกษา" ผิด!
    public static array $staffKeywordsCheck = [
        'อาจารย์', 'ผศ.', 'รศ.', 'ดร.', 'อ.',
        'หัวหน้าสาขา', 'คณาจารย์', 'บุคลากร', 'ใครสอน', 'รายชื่ออาจารย์',
        'ผู้ช่วยศาสตราจารย์', 'รองศาสตราจารย์',
    ];

    // บริบทที่ไม่ใช่ staff → ข้ามไป FAQ แทน
    // เช่น "อาจารย์ใหญ่คนแรก" ไม่ได้ถามหาตัวอาจารย์
    public static array $notStaffContext = [
        'คนแรก', 'ที่ปรึกษา',
        'เอกสาร', 'แบบฟอร์ม', 'นิเทศ', 'บันทึก', 'เข้าพบ',
        'เชี่ยวชาญ', 'ความเชี่ยวชาญ', 'งานวิจัย', 'ติดตาม',
        'ระดับปริญญาเอก', 'ปริญญาเอก', 'กี่ท่าน', 'กี่คน',
        'ผู้ทรงคุณวุฒิ', 'ภายนอก', 'พัฒนาหลักสูตร',
        'มาตรฐาน', 'ผลการเรียนรู้', 'ชื่อเต็ม', 'ชื่อย่อ',
        'ผลิตบุคลากร', 'เน้นผลิต',
        // ถามเฉพาะตำแหน่ง/บทบาท → FAQ มีคำตอบ curated ดีกว่า staff table listing
        'ประธาน', 'ผู้รับผิดชอบ', 'ประจำหลักสูตร', 'ประจำสาขา', 'หัวหน้า',
    ];

    // คำที่ AI บอก ask_staff แต่จริงๆ ไม่ใช่เรื่อง staff → ข้ามไป FAQ
    public static array $notStaffKeywords = [
        'จบการศึกษา', 'สำเร็จการศึกษา', 'เงื่อนไขจบ', 'เกณฑ์จบ', 'เงื่อนไข',
        'ค่าเทอม', 'หลักสูตร', 'แผนการเรียน', 'วิชาเรียน', 'ห้องแล็บ',
        'ความร่วมมือ', 'กู้ยืม', 'ทุน', 'กยศ', 'กรอ', 'เอกสาร', 'สมัครเรียน',
        // ถามเฉพาะตำแหน่ง → FAQ มีคำตอบ curated
        'ประธาน', 'ผู้รับผิดชอบ', 'ประจำหลักสูตร', 'ประจำสาขา', 'หัวหน้า',
    ];

    // =============================================
    // ===== News Detection (Phase 2.5) =====
    // =============================================

    // ถ้ามีคำเหล่านี้ในคำถาม ข้ามการค้นหาข่าว → ไป FAQ แทน
    public static array $skipNewsKeywords = [
        'ชมรม', 'จิตอาสา', 'กิจกรรม', 'แข่งขัน',
        'กยศ', 'กรอ', 'เอกสาร', 'กู้ยืม', 'ทุน', 'แบบฟอร์ม',
        'จบการศึกษา', 'สำเร็จการศึกษา', 'เงื่อนไขจบ', 'เกณฑ์จบ',
        'ห้องแล็บ', 'ห้องปฏิบัติการ', 'Lab',
        'ความร่วมมือ', 'ร่วมมือ', 'บริษัทภายนอก',
        'ค่าเทอม', 'หลักสูตร', 'แผนการเรียน', 'วิชาเรียน',
        'สมัครเรียน', 'รับสมัคร', 'คุณสมบัติ',
        'ห้องสมุด', 'หนังสือ', 'นิตยสาร', 'หนังสือพิมพ์',
        'โรงฝึก', 'ฝึกปฏิบัติ', 'เครื่องมือ',
        'มาตรฐาน', 'ผลการเรียนรู้', 'คาดหวัง',
        'วิสัยทัศน์', 'พันธกิจ', 'ปรัชญา',
        'วิชาพื้นฐาน', 'วิทยาศาสตร์', 'คณิตศาสตร์',
        'วัตถุประสงค์', 'ปริญญานิพนธ์', 'โครงงาน',
        'สหกิจ', 'นิเทศ', 'ความร่วมมือ',
    ];

    // คำที่เข้าข่ายค้นหาข่าว
    public static array $newsKeywords = [
        'ข่าว', 'ข่าวสาร', 'ประชาสัมพันธ์', 'กิจกรรม',
        'อีเว้นท์', 'event', 'news', 'ล่าสุด',
    ];

    // =============================================
    // ===== Department Map (SQL filter) =====
    // =============================================
    // ⚠️ เรียง longer/specific ก่อน shorter เพราะ break ที่ match แรก
    public static array $departmentMap = [
        'อส.บ.'                   => 'sime_engineering',
        'ยั่งยืน'                   => 'sime_engineering',
        'วิศวกรรมไฟฟ้าสื่อสาร'      => 'electronics_telecom_engineering',
        'ไฟฟ้าสื่อสาร'              => 'electronics_telecom_engineering',
        'สื่อสารและระบบอัจฉริยะ'     => 'electronics_telecom_engineering',
        'ระบบอัจฉริยะ'              => 'electronics_telecom_engineering',
        'วิศวกรรมเมคคาทรอนิกส์'     => 'mechatronics_engineering',
        'เมคคาทรอนิกส์'             => 'mechatronics_engineering',
        'วิศวกรรมอิเล็กทรอนิกส์'     => 'electronics_telecom_engineering',
        'อิเล็กทรอนิกส์'             => 'electronics_telecom_engineering',
        'โทรคมนาคม'                => 'electronics_telecom_engineering',
        'วิศวกรรมเครื่องประดับ'       => 'jewelry_engineering',
        'วิศวกรรมเครื่องมือ'          => 'tool_engineering',
        'ช่างเทคนิคคอมพิวเตอร์'       => 'vocational_computer',
        'วิศวกรรมคอมพิวเตอร์'        => 'computer_engineering',
        'วิศวกรรมเครื่องกล'           => 'mechanical_engineering',
        'วิศวกรรมอุตสาหการ'          => 'industrial_engineering',
        'วิศวกรรมโยธา'              => 'civil_engineering',
        'วิศวกรรมไฟฟ้า'             => 'electrical_engineering',
        // สั้น ทีหลัง
        'เครื่องประดับ' => 'jewelry_engineering',
        'อัญมณี'       => 'jewelry_engineering',
        'เครื่องกล'    => 'mechanical_engineering',
        'คอมพิวเตอร์'  => 'computer_engineering',
        'วิศวะคอม'     => 'computer_engineering',
        'อุตสาหการ'    => 'industrial_engineering',
        'โยธา'        => 'civil_engineering',
        'ไฟฟ้า'       => 'electrical_engineering',
        'SIME'        => 'sime_engineering',
        'แม่พิมพ์'     => 'tool_engineering',
        'เครื่องมือ'    => 'tool_engineering',
        'ปวช'         => 'vocational',
    ];

    // คำที่ทำให้ยกเลิก department filter (คำถามเปรียบเทียบ/ทั่วไป)
    public static array $skipDeptKeywords = [
        'แรงพอ', 'สเปค', 'ต่างจาก', 'เปรียบเทียบ',
        'ข้อแตกต่าง', 'ต่างกัน', 'เหมือนกัน',
        'ปริญญาตรี', 'สำหรับผู้จบ', 'ผู้จบ',
    ];

    // =============================================
    // ===== Scoring: Important Phrases =====
    // =============================================
    // ถ้า query มีวลีนี้ และ FAQ ก็มี → +1000
    public static array $importantPhrases = [
        'แผนการเรียน', 'แผนเรียน', 'ค่าเทอม', 'ค่าเรียน',
        'กยศ', 'กรอ', 'รับสมัคร', 'สมัคร', 'ขั้นตอน',
        'คุณสมบัติ', 'สอบเข้า', 'โควตา',
        'จบการศึกษา', 'สำเร็จการศึกษา', 'เกณฑ์จบ',
        'ห้องแล็บ', 'ห้อง Lab', 'ห้องปฏิบัติการ', 'ความร่วมมือ',
        'เอกสารกู้', 'แบบฟอร์มกู้', 'กู้เกินหลักสูตร', 'DSL',
        'ผู้กู้รายเก่า', 'ผู้กู้รายใหม่', 'เลื่อนชั้นปี',
        'ปริญญานิพนธ์', 'โครงงาน', 'แบบฟอร์ม',
        'นิเทศ', 'ปรัชญา', 'วัตถุประสงค์', 'วิชาพื้นฐาน',
        'รายละเอียดหลักสูตร',
        // เพิ่มเพื่อแยกวิชาเฉพาะในสาขาเดียวกัน
        'ภาษาโปรแกรม', 'เขียนโปรแกรม', 'coding',
        'ฐานข้อมูล', 'Database', 'SQL',
        'Cybersecurity', 'ไซเบอร์', 'ความปลอดภัย',
        'แคลคูลัส', 'ฟิสิกส์', 'คณิตศาสตร์',
        'เลือกเสรี', 'ข้ามคณะ', 'Free Elective',
        'ป่วย', 'สอบชดเชย', 'ขาดสอบ',
        'กฎหมาย', 'แรงงาน',
        'หุ่นยนต์', 'Automation', 'อัตโนมัติ',
        'สหกิจ', 'ฝึกงาน', 'ทดแทนสหกิจ',
        'ภาคสมทบ', 'ภาคค่ำ', 'นอกเวลา',
        'ผู้ประกอบการ', 'Startup', 'Entrepreneurship',
        'ซัมเมอร์', 'ภาคฤดูร้อน',
        'โปรเจกต์จบ', 'โปรเจกต์',
        'หล่อโลหะ', 'Casting',
        'แม่พิมพ์', 'Mold',
        'ซอฟต์แวร์', 'CAD', 'CAM', 'SolidWorks',
        'AI', 'ปัญญาประดิษฐ์',
        'เรียนอะไร', 'เรียนเกี่ยวกับ', 'เนื้อหาหลักสูตร',
    ];

    // =============================================
    // ===== Scoring: Critical Keywords =====
    // =============================================
    // ถ้า query มีคำวิกฤตนี้ และ FAQ ก็มี → +1500
    public static array $criticalKeywords = [
        'เกรด F' => ['เกรด F', 'ติด F', 'grade F'],
        'เกรด'   => ['เกรด', 'GPA', 'GPAX'],
        'รีไทร์'  => ['รีไทร์', 'พ้นสภาพ', 'retire'],
        'ติด I'   => ['ติด I', 'Incomplete'],
        'ต่างชาติ' => ['ต่างชาติ', 'ชาวต่างชาติ', 'foreign', 'international'],
        'เทียบโอน' => ['เทียบโอน', 'ย้ายมหาลัย', 'ย้ายมา', 'Transfer'],
        'เตรียมตัว' => ['เตรียมตัว', 'เตรียมอะไร', 'เตรียม'],
        // เพิ่มเพื่อแยก FAQ เฉพาะวิชาในสาขาเดียวกัน
        'ปริญญาตรี' => ['ปริญญาตรี', 'ป.ตรี', 'วศ.บ', 'อส.บ', 'Bachelor'],
        'ปริญญาโท' => ['ปริญญาโท', 'ป.โท', 'วศ.ม', 'Master'],
        'Cybersecurity' => ['Cybersecurity', 'ไซเบอร์', 'Cyber', 'แฮก', 'Hacking'],
        'ภาษาโปรแกรม' => ['ภาษาโปรแกรม', 'Python', 'Java', 'C++', 'เขียนโปรแกรม'],
        'ฐานข้อมูล' => ['ฐานข้อมูล', 'Database', 'SQL', 'MySQL'],
        'แคลคูลัส' => ['แคลคูลัส', 'Calculus', 'Linear Algebra'],
        'สอบชดเชย' => ['สอบชดเชย', 'ป่วยสอบ', 'ขาดสอบ', 'Make-up'],
        'เลือกเสรี' => ['เลือกเสรี', 'ข้ามคณะ', 'Free Elective'],
        'กฎหมาย' => ['กฎหมาย', 'พ.ร.บ.', 'กฎหมายโรงงาน', 'กฎหมายแรงงาน'],
        'หุ่นยนต์' => ['หุ่นยนต์', 'Robot', 'Automation', 'อัตโนมัติ'],
        'สหกิจ' => ['สหกิจ', 'ทดแทนสหกิจ', 'ไม่ไปสหกิจ'],
        'ภาคค่ำ' => ['ภาคค่ำ', 'ภาคสมทบ', 'นอกเวลา', 'เสาร์อาทิตย์'],
        'ผู้ประกอบการ' => ['ผู้ประกอบการ', 'Startup', 'Entrepreneurship'],
        'ซัมเมอร์' => ['ซัมเมอร์', 'summer', 'ภาคฤดูร้อน', 'ภาคร้อน'],
        'หล่อโลหะ' => ['หล่อโลหะ', 'Casting', 'Lost Wax', 'หล่อ'],
        'โปรเจกต์จบ' => ['โปรเจกต์จบ', 'โปรเจกต์', 'โครงงานจบ', 'โครงงาน'],
        'ซอฟต์แวร์' => ['ซอฟต์แวร์', 'SolidWorks', 'AutoCAD', 'NX CAM', 'CAD', 'CAM'],
        'AI' => ['AI', 'ปัญญาประดิษฐ์', 'Artificial Intelligence', 'Industry 4.0'],
    ];

    // =============================================
    // ===== Scoring: Department Keywords =====
    // =============================================
    // ใช้เทียบว่า query กับ FAQ พูดถึงสาขาเดียวกันไหม
    public static array $departmentKeywords = [
        'ไฟฟ้า'             => ['ไฟฟ้า', 'electrical', 'EE', 'วิศวกรรมไฟฟ้า', 'Electrical Engineering'],
        'คอมพิวเตอร์'        => ['คอมพิวเตอร์', 'คอม', 'computer', 'CPE', 'CE', 'วิศวคอม', 'programming', 'โปรแกรม', 'วิศวกรรมคอมพิวเตอร์', 'Computer Engineering'],
        'เครื่องกล'           => ['เครื่องกล', 'mechanical', 'ME', 'วิศวกรรมเครื่องกล', 'Mechanical Engineering'],
        'อุตสาหการ'          => ['อุตสาหการ', 'industrial', 'IE', 'วิศวกรรมอุตสาหการ', 'Industrial Engineering'],
        'เมคคาทรอนิกส์'      => ['เมคคาทรอนิกส์', 'mechatronics', 'วิศวกรรมเมคคาทรอนิกส์', 'Mechatronics'],
        'โยธา'              => ['โยธา', 'civil', 'วิศวกรรมโยธา', 'Civil Engineering', 'ก่อสร้าง'],
        'อิเล็กทรอนิกส์'      => ['อิเล็กทรอนิกส์', 'โทรคมนาคม', 'electronics', 'ETE', 'สื่อสาร', 'ระบบอัจฉริยะ', 'telecommunication'],
        'อส.บ'              => ['อส.บ', 'อส.บ.', 'อุตสาหกรรมศาสตรบัณฑิต', 'ยั่งยืน', 'BIndTech', 'B.Ind.Tech'],
        'SIME'              => ['SIME', 'วิศวกรรมการจัดการอุตสาหกรรม', 'ความยั่งยืน', 'sustainable', 'นวัตกรรม'],
        'วศ.ม'              => ['วศ.ม', 'วศ.ม.', 'ปริญญาโท', 'มหาบัณฑิต', 'Master', 'ป.โท'],
        'กยศ'               => ['กยศ', 'กยศ.', 'กองทุนกู้ยืม', 'กองทุนเงินให้กู้ยืม', 'student loan', 'DSL', 'ทุนการศึกษา', 'เงินกู้'],
        'กรอ'               => ['กรอ', 'กรอ.', 'income contingent', 'ICL', 'กองทุนรายได้'],
        'รับสมัคร'            => ['รับสมัคร', 'TCAS', 'admission', 'สมัคร', 'เปิดรับ', 'รับตรง', 'โควตา'],
        'มทร'               => ['มทร.พระนคร', 'RMUTP', 'ราชมงคล', 'พระนคร', 'ศูนย์'],
        'เครื่องประดับ'        => ['เครื่องประดับ', 'อัญมณี', 'jewelry', 'Jewelry', 'พลอย', 'เจียระไน'],
        'เครื่องมือแม่พิมพ์'    => ['เครื่องมือ', 'แม่พิมพ์', 'Tool', 'Die', 'CNC', 'ซ่อมบำรุง'],
        'ห้องสมุด'            => ['ห้องสมุด', 'library', 'หนังสือ', 'ยืม', 'คืน'],
        'ออกกำลังกาย'         => ['ออกกำลังกาย', 'ฟิตเนส', 'fitness', 'gym', 'ยิม', 'กีฬา', 'ลู่วิ่ง'],
    ];

    // =============================================
    // ===== Category Keywords (detectCategory) =====
    // =============================================
    public static array $categoryKeywords = [
        // ⚠️ ลำดับสำคัญ: ทุนการศึกษา ต้องอยู่ก่อน หลักสูตร เพราะ "กู้เกินหลักสูตร" ต้อง match ทุนก่อน
        'ทุนการศึกษา'        => ['ทุน', 'กยศ', 'กรอ', 'ทุนการศึกษา', 'กู้ยืม', 'กู้เกิน', 'ทุนกู้', 'scholarship', 'มีทุนอะไรบ้าง', 'มีทุนไหม', 'เอกสารกู้', 'แบบฟอร์มกู้', 'ค่าเทอม', 'ค่าเล่าเรียน', 'ค่าธรรมเนียม', 'DSL', 'ผู้กู้', 'รายเก่า', 'รายใหม่', 'เลื่อนชั้นปี', 'จิตอาสา'],
        'การรับสมัคร'        => ['สมัคร', 'รับสมัคร', 'TCAS', 'รับตรง', 'โควตา', 'เข้าเรียน', 'คุณสมบัติ', 'เอกสารสมัคร', 'admission'],
        'หลักสูตร'           => ['หลักสูตร', 'สาขา', 'แผนการเรียน', 'ปริญญา', 'curriculum', 'program'],
        'สิ่งอำนวยความสะดวก'  => ['หอพัก', 'WiFi', 'ห้องสมุด', 'โรงอาหาร', 'ATM', 'ที่พัก', 'dormitory', 'library', 'ห้องแล็บ', 'ห้อง Lab', 'ห้องปฏิบัติการ', 'แล็บ', 'หนังสือ', 'ยืมหนังสือ'],
        'การลงทะเบียน'       => ['ลงทะเบียน', 'registration', 'เพิ่มวิชา', 'ถอนวิชา', 'add', 'drop', 'เพิ่มถอน'],
        'การชำระเงิน'        => ['ชำระเงิน', 'จ่ายเงิน', 'โอนเงิน', 'payment', 'pay', 'จ่ายค่าเทอม', 'ชำระค่าเทอม'],
        'ฝึกงาน'            => ['ฝึกงาน', 'internship', 'สหกิจ', 'coop', 'ฝึกงานเรียน'],
        'กิจกรรม'           => ['กิจกรรม', 'ต้อนรับน้อง', 'กีฬาสี', 'event', 'อีเว้นท์', 'กีฬา', 'แข่งขัน'],
        'จบการศึกษา'         => ['จบการศึกษา', 'สำเร็จการศึกษา', 'เกณฑ์จบ', 'เงื่อนไขจบ', 'graduation', 'สอบจบ', 'รับปริญญา'],
        'ความร่วมมือ'        => ['ความร่วมมือ', 'ร่วมมือ', 'บริษัทภายนอก', 'MOU', 'พันธมิตร', 'หน่วยงานภายนอก', 'cooperation'],
        'ติดต่อ'             => ['อยู่ที่ไหน', 'ตั้งอยู่', 'ที่ตั้ง', 'สถานที่', 'แผนที่', 'เดินทาง'],
    ];

    // =============================================
    // ===== Query Normalizations (regex) =====
    // =============================================
    public static array $normalizations = [
        // ลบ noise words
        '/\bสาขา\s*(วิศวกรรม)/ui'         => '$1',
        '/\bหลักสูตร\s*(วิศวกรรม)/ui'      => '$1',
        // คณะและสาขา
        '/\b(คณะ|คณะ\s*)?วศ\.?\b/ui'      => 'คณะวิศวกรรมศาสตร์',
        '/\b(คณะ\s*)?วิศวะ\b/ui'           => 'คณะวิศวกรรมศาสตร์',
        '/\bไฟฟ้า\b/ui'                    => 'วิศวกรรมไฟฟ้า',
        '/\bคอม(พิว(เตอร์)?)?\b/ui'        => 'วิศวกรรมคอมพิวเตอร์',
        '/\bโยธา\b/ui'                     => 'วิศวกรรมโยธา',
        '/\bอุตสาห(กรรม)?\b/ui'             => 'วิศวกรรมอุตสาหการ',
        '/\bเครื่องกล\b/ui'                  => 'วิศวกรรมเครื่องกล',
        // ระดับการศึกษา
        '/\bป\.?\s*ตรี\b/ui'                  => 'ปริญญาตรี',
        '/\bป\.?\s*โท\b/ui'                   => 'ปริญญาโท',
        // ปีการศึกษา
        '/\bปี\s*(1|๑|หนึ่ง)\b/ui'           => 'ปีที่ 1',
        '/\bปี\s*(2|๒|สอง)\b/ui'            => 'ปีที่ 2',
        '/\bปี\s*(3|๓|สาม)\b/ui'            => 'ปีที่ 3',
        '/\bปี\s*(4|๔|สี่)\b/ui'             => 'ปีที่ 4',
        '/\bชั้นปี\s*(\d)/ui'                => 'ปีที่ $1',
        // ทุนการศึกษา
        '/\bกยศ\.?\b/ui'                   => 'กองทุนเงินให้กู้ยืมเพื่อการศึกษา กยศ',
        '/\bกรอ\.?\b/ui'                    => 'กองทุนเงินให้กู้ยืมเพื่อการศึกษา กรอ',
        '/\bทุนกู้\b/ui'                     => 'กองทุนเงินให้กู้ยืมเพื่อการศึกษา',
        // ระบบและการลงทะเบียน
        '/\b(เพิ่ม[- ]?ถอน|เพิ่มถอน)\b/ui'  => 'เพิ่มถอนรายวิชา',
        '/\bลงทะเบียน\b/ui'                 => 'ลงทะเบียนเรียน',
        '/\bเช็ค\s*เกรด\b/ui'               => 'ตรวจสอบผลการเรียน',
        '/\bเกรด\b/ui'                      => 'ผลการเรียน เกรด',
        // การรับสมัคร
        '/\bทีแคส\b/ui'                     => 'TCAS',
        '/\bรับตรง\b/ui'                     => 'รับตรง Direct Admission',
        '/\bโควตา\b/ui'                     => 'โควตาพิเศษ',
        // สิ่งอำนวยความสะดวก
        '/\bหอพัก\b/ui'                     => 'หอพัก ที่พักนักศึกษา',
        '/\bไวไฟ|wifi\b/ui'                 => 'WiFi อินเทอร์เน็ต',
        '/\bห้องสมุด\b/ui'                   => 'ห้องสมุด ศูนย์สารสนเทศ',
        // คำกริยาทั่วไป
        '/\bเท่าไหร่\b/ui'                   => 'ค่าใช้จ่าย ราคา เท่าไหร่',
        '/\bยังไง\b/ui'                      => 'อย่างไร วิธีการ ขั้นตอน',
        '/\bมี(อะไร)?บ้าง\b/ui'              => 'มี รายชื่อ รายการ',
        '/\bเรียน(อะไร)?\b/ui'              => 'หลักสูตร เรียน วิชา',
        // เพิ่ม: คำไม่เป็นทางการ → ภาษาเป็นทางการ
        '/ตรงไหน/ui'                         => 'ที่ไหน',
        '/ตรงนี้/ui'                          => 'ที่นี่',
        '/รีไทร์/ui'                          => 'พ้นสภาพ Retire รีไทร์',
        '/กู้เงิน/ui'                          => 'กู้ยืม กยศ กู้เงิน เอกสาร',
        '/ตารางเรียน/ui'                      => 'ตารางสอน ตารางเรียน',
    ];

    // =============================================
    // ===== Synonyms (ขยาย query) =====
    // =============================================
    public static array $synonyms = [
        // คณะและสาขาวิชา
        'วิศวกรรมศาสตร์'         => 'วิศวกรรม วิศวะ engineering คณะวิศวะ วศ',
        'วิศวกรรมไฟฟ้า'          => 'ไฟฟ้า electrical สาขาไฟฟ้า EE',
        'วิศวกรรมคอมพิวเตอร์'    => 'คอมพิวเตอร์ คอม computer CE CPE',
        'วิศวกรรมโยธา'           => 'โยธา civil โครงสร้าง สถาปัตย์',
        'วิศวกรรมอุตสาหการ'      => 'อุตสาหการ industrial IE อุตสาห',
        'วิศวกรรมเครื่องกล'       => 'เครื่องกล mechanical ME',
        'อส.บ'                  => 'อส.บ. อส.บ อุตสาหกรรมศาสตรบัณฑิต ยั่งยืน sustainable innovation BIndTech',
        'อส.บ.'                 => 'อส.บ. อส.บ อุตสาหกรรมศาสตรบัณฑิต ยั่งยืน sustainable innovation',
        'SIME'                  => 'SIME วิศวกรรมการจัดการอุตสาหกรรมเพื่อความยั่งยืน Sustainable Industrial Management',
        'วศ.ม'                  => 'วศ.ม. วศ.ม วิศวกรรมศาสตรมหาบัณฑิต ปริญญาโท Master MEng',
        'วิศวคอม'               => 'วิศวกรรมคอมพิวเตอร์ คอมพิวเตอร์ คอม computer CPE CE programming โปรแกรม',
        'สาขา'                  => 'สาขา วิชา หลักสูตร แผนก department program',
        'หลักสูตร'               => 'หลักสูตร วิชา curriculum รายวิชา program',
        'เรียน'                  => 'เรียน ศึกษา วิชา รายวิชา เนื้อหา',
        // ปีการศึกษา
        'ปีที่'    => 'ปี ชั้นปี ปีการศึกษา year',
        'ปี 1'    => 'ปีหนึ่ง ชั้นปีที่ 1 ปีแรก freshman',
        'ปี 2'    => 'ปีสอง ชั้นปีที่ 2 sophomore',
        'ปี 3'    => 'ปีสาม ชั้นปีที่ 3 junior',
        'ปี 4'    => 'ปีสี่ ชั้นปีที่ 4 ปีจบ senior',
        // ค่าใช้จ่าย
        'ค่าเรียน'    => 'ค่าเรียน ค่าเทอม ค่าธรรมเนียม ค่าใช้จ่าย tuition fee',
        'ค่าเทอม'     => 'ค่าเทอม ค่าเรียน ค่าใช้จ่าย tuition fee ผ่อน',
        'ค่าใช้จ่าย'   => 'ค่าใช้จ่าย ค่าเรียน ค่าเทอม ราคา เท่าไหร่',
        'ผ่อน'        => 'ผ่อน ผ่อนชำระ ผ่อนค่าเทอม จ่ายเป็นงวด installment',
        // การรับสมัคร
        'รับสมัคร'     => 'รับสมัคร สมัคร เปิดรับ admission การรับสมัคร ระดับ ปวช ปริญญาตรี ปริญญาโท',
        'สมัครเรียน'    => 'สมัคร รับสมัคร เปิดรับ การรับสมัคร apply enrollment',
        'เข้าเรียน'     => 'สมัคร รับสมัคร เข้าศึกษา เข้าเรียน admission',
        'TCAS'         => 'TCAS ทีแคส รับสมัคร admission portfolio ม.6',
        'รับตรง'        => 'รับตรง Direct Admission โควตา quota ปวส ปวช',
        'ปวช'          => 'ปวช ปวช. ประกาศนียบัตรวิชาชีพ vocational certificate ม.3',
        'ปริญญาตรี'     => 'ปริญญาตรี bachelor ป.ตรี undergraduate ม.6 ปวส',
        'ปริญญาโท'     => 'ปริญญาโท master ป.โท graduate วศ.ม มหาบัณฑิต',
        'มทร.พระนคร'   => 'มทร.พระนคร RMUTP ราชมงคล พระนคร มหาวิทยาลัย',
        'ศูนย์'         => 'ศูนย์ campus วิทยาเขต เทเวศร์ โชติเวช พณิชยการ พระนครเหนือ',
        // ทุนการศึกษา
        'กองทุนเงินให้กู้ยืมเพื่อการศึกษา' => 'กองทุนเงินให้กู้ยืมเพื่อการศึกษา กยศ กรอ ทุนกู้ยืม scholarship loan',
        'กยศ'          => 'กยศ กยศ. กองทุนกู้ยืม กองทุนเงินให้กู้ยืม ทุนการศึกษา student loan DSL กู้เงิน ทุนกู้ สมัคร ขั้นตอน',
        'กรอ'          => 'กรอ กรอ. กองทุนรายได้ income contingent loan ICL กองทุนกู้ยืม ทุนการศึกษา DSL สมัคร ขั้นตอน',
        'ทุน'          => 'ทุน ทุนการศึกษา scholarship กยศ กรอ กองทุน loan',
        'กู้ยืม'        => 'กู้ยืม กยศ กรอ ทุน กู้เงิน ทุนกู้ student loan DSL',
        'ทุนกู้'        => 'ทุนกู้ กยศ กรอ กู้ยืม กองทุน loan',
        'DSL'          => 'DSL ระบบ e-studentloan ระบบกู้ยืม digital student loan',
        'สัมภาษณ์'      => 'สัมภาษณ์ interview กยศ กรอ รายใหม่ ผู้กู้',
        'จิตอาสา'       => 'จิตอาสา volunteer กิจกรรม กยศ กรอ e-learning',
        'แบบฟอร์ม'      => 'แบบฟอร์ม ฟอร์ม form ดาวน์โหลด download เอกสาร',
        'เอกสารกู้ยืม'   => 'เอกสาร แบบฟอร์ม กยศ กรอ checklist check list ส่งเอกสาร',
        // ระบบลงทะเบียน
        'เพิ่มถอนรายวิชา'      => 'เพิ่ม ถอน รายวิชา ลงทะเบียน add drop',
        'ลงทะเบียนเรียน'       => 'ลงทะเบียน registration เลือกวิชา เพิ่มถอน',
        'ตรวจสอบผลการเรียน'   => 'ผลการเรียน เกรด เช็คเกรด ผลสอบ grade',
        'ผลการเรียน'           => 'เกรด grade ผลสอบ คะแนน transcript',
        // สิ่งอำนวยความสะดวก
        'หอพัก'           => 'หอพัก ที่พักนักศึกษา dormitory หอใน ที่พัก',
        'ที่พักนักศึกษา'    => 'หอพัก ที่พัก dormitory',
        'WiFi'            => 'WiFi ไวไฟ อินเทอร์เน็ต internet wireless เน็ต',
        'อินเทอร์เน็ต'     => 'WiFi internet ไวไฟ เน็ต อินเทอร์เน็ต',
        'ห้องสมุด'         => 'ห้องสมุด ศูนย์สารสนเทศ library',
        // ติดต่อ
        'ติดต่อ'       => 'ติดต่อ เบอร์ โทร อีเมล email phone โทรศัพท์',
        'โทร'          => 'โทร โทรศัพท์ เบอร์ tel phone ติดต่อ',
        'อีเมล'        => 'อีเมล email อีเมล์ mail ติดต่อ',
        'เบอร์'        => 'เบอร์ โทรศัพท์ โทร phone เบอร์โทร',
        // สถานที่
        'ที่อยู่'     => 'ที่อยู่ ตั้งอยู่ สถานที่ location address',
        'อยู่ไหน'    => 'ที่อยู่ สถานที่ location ตั้งอยู่',
        'ไปยังไง'    => 'เดินทาง ไป มา location การเดินทาง',
        // อาจารย์/บุคลากร
        'อาจารย์'       => 'อาจารย์ ผศ รศ ศ อ. ดร. teacher professor คณาจารย์',
        'ครู'           => 'อาจารย์ ครู teacher professor',
        'หัวหน้า'       => 'หัวหน้า head chief หัวหน้าแผนก',
        'เบอร์อาจารย์'   => 'อาจารย์ ติดต่อ โทร เบอร์',
        'อีเมลอาจารย์'   => 'อาจารย์ อีเมล email',
        // Auto-expand short queries (match AFTER normalization)
        // หมายเหตุ: key ซ้ำกับด้านบน → ค่าด้านล่างจะ override (PHP behavior)
        'วิศวกรรมโยธา'           => 'วิศวกรรมโยธา เรียน หลักสูตร curriculum',
        'วิศวกรรมไฟฟ้า'          => 'วิศวกรรมไฟฟ้า เรียน หลักสูตร electrical',
        'วิศวกรรมคอมพิวเตอร์'    => 'วิศวกรรมคอมพิวเตอร์ เรียน หลักสูตร computer',
        'วิศวกรรมเครื่องกล'       => 'วิศวกรรมเครื่องกล เรียน หลักสูตร mechanical',
        'วิศวกรรมอิเล็กทรอนิกส์'  => 'วิศวกรรมอิเล็กทรอนิกส์ เรียน หลักสูตร electronics',
        'สาขาโยธา'              => 'วิศวกรรมโยธา เรียน หลักสูตร',
        'สาขาไฟฟ้า'              => 'วิศวกรรมไฟฟ้า เรียน หลักสูตร',
        'สาขาคอม'               => 'วิศวกรรมคอมพิวเตอร์ เรียน หลักสูตร',
        'สาขาเครื่องกล'           => 'วิศวกรรมเครื่องกล เรียน หลักสูตร',
        'สาขาอิเล็กทรอนิกส์'      => 'วิศวกรรมอิเล็กทรอนิกส์ เรียน หลักสูตร',
        'หลักสูตรโยธา'            => 'วิศวกรรมโยธา เรียน',
        'หลักสูตรไฟฟ้า'           => 'วิศวกรรมไฟฟ้า เรียน',
        'หลักสูตรคอม'             => 'วิศวกรรมคอมพิวเตอร์ เรียน',
        'หลักสูตรเครื่องกล'        => 'วิศวกรรมเครื่องกล เรียน',
        // กิจกรรม
        'กิจกรรม'         => 'กิจกรรม event อีเว้นท์ งาน',
        'ชมรม'            => 'ชมรม club สโมสร กิจกรรม กิจกรรมนอกหลักสูตร',
        'ต้อนรับน้องใหม่'  => 'รับน้อง ต้อนรับน้องใหม่ orientation',
        'กีฬาสี'          => 'กีฬาสี sport day งานกีฬา',
        // ออกกำลังกาย / ฟิตเนส
        'ออกกำลังกาย'     => 'ออกกำลังกาย ฟิตเนส gym fitness ห้องออกกำลังกาย',
        // อาชีพ / เงินเดือน
        'เงินเดือน'       => 'เงินเดือน salary รายได้ อาชีพ ทำงาน career',
        // คำถามทั่วไป
        'ทำไม'        => 'เหตุผล why ข้อดี จุดเด่น',
        'อย่างไร'      => 'วิธี how ขั้นตอน วิธีการ',
        'เมื่อไหร่'     => 'เวลา วันที่ when กำหนดการ',
        'ที่ไหน'       => 'สถานที่ where location ตำแหน่ง',
        'ตรงไหน'      => 'ที่ไหน สถานที่ where location',
        'มีอะไรบ้าง'   => 'มี อะไร บ้าง มีกี่ รายชื่อ รายการ',
        'มีกี่'        => 'จำนวน มีกี่ มี กี่',
    ];

    // =============================================
    // ===== Stop Words & Common Words =====
    // =============================================

    // คำที่ไม่มีความหมายในการค้นหา (กรองออก)
    public static array $stopWords = [
        'ครับ', 'ค่ะ', 'คะ', 'ครับผม', 'จ้า', 'นะ', 'หน่อย',
        'จะ', 'ได้', 'ไหม', 'มั้ย', 'หรอ',
        'กับ', 'และ', 'หรือว่า', 'แล้วก็', 'เพราะ', 'เลย',
        'อ่ะ', 'เอ่อ', 'อืม', 'the', 'a', 'an', 'is', 'are',
    ];

    // คำไทยที่พบบ่อย สำหรับตัดคำภาษาไทย (ไม่มีช่องว่าง)
    public static array $commonWords = [
        'วิศวกรรม', 'ไฟฟ้า', 'คอมพิวเตอร์', 'โยธา', 'เครื่องกล', 'อุตสาหการ', 'อิเล็กทรอนิกส์',
        'เมคคาทรอนิกส์', 'เครื่องประดับ', 'เครื่องมือ', 'แม่พิมพ์',
        'คณะ', 'สาขา', 'หลักสูตร', 'เรียน', 'สมัคร', 'รับสมัคร', 'ค่าเทอม', 'ทุน', 'กยศ', 'กรอ',
        'หอพัก', 'ห้องสมุด', 'อาจารย์', 'บุคลากร', 'ติดต่อ', 'โทร', 'อีเมล',
        'อะไร', 'ยังไง', 'อย่างไร', 'เท่าไหร่', 'ที่ไหน', 'เมื่อไหร่', 'ทำไม',
        'ห้องแล็บ', 'ห้องปฏิบัติการ', 'แล็บ', 'Lab',
        'จบการศึกษา', 'สำเร็จการศึกษา', 'เงื่อนไข', 'เกณฑ์จบ', 'เกณฑ์',
        'ความร่วมมือ', 'ร่วมมือ', 'บริษัท', 'ภายนอก', 'พันธมิตร', 'สหกิจ',
        'เอกสาร', 'แบบฟอร์ม', 'กู้ยืม', 'ดาวน์โหลด',
        'ฝึกงาน', 'โครงงาน', 'วิจัย', 'กิจกรรม',
        'อาชีพ', 'เงินเดือน', 'ทำงาน', 'จบแล้ว',
        'ลงทะเบียน', 'ถอนวิชา', 'เพิ่มวิชา',
        'ประวัติ', 'ข้อมูล', 'รายละเอียด',
    ];

    // =============================================
    // ===== Staff Search Config =====
    // =============================================

    // คำสำหรับค้นหาอาจารย์
    public static array $staffSearchKeywords = [
        'อาจารย์', 'ผศ', 'รศ', 'ศ.', 'ศาสตราจารย์', 'อ.', 'ดร.',
        'หัวหน้าสาขา', 'หัวหน้า', 'ครู', 'teacher', 'professor',
        'ติดต่ออาจารย์', 'เบอร์อาจารย์', 'อีเมลอาจารย์',
        'สอน', 'ผู้สอน', 'คณาจารย์', 'บุคลากร', 'staff',
        'รายชื่อ', 'รายชื่ออาจารย์', 'ดูรายชื่อ', 'list', 'ดูอาจารย์',
    ];

    // Map คำในคำถาม → ชื่อ department ใน staff table
    public static array $staffDepartmentMap = [
        'คอมพิวเตอร์' => 'วิศวกรรมคอมพิวเตอร์',
        'คอม'        => 'วิศวกรรมคอมพิวเตอร์',
        'computer'   => 'วิศวกรรมคอมพิวเตอร์',
        'cpe'        => 'วิศวกรรมคอมพิวเตอร์',
        'ไฟฟ้า'      => 'วิศวกรรมไฟฟ้า',
        'electrical' => 'วิศวกรรมไฟฟ้า',
        'ee'         => 'วิศวกรรมไฟฟ้า',
        'อุตสาหการ'   => 'สาขาวิศวกรรมอุตสาหการ',
        'industrial' => 'สาขาวิศวกรรมอุตสาหการ',
        'ie'         => 'สาขาวิศวกรรมอุตสาหการ',
        'เครื่องกล'    => 'สาขาวิศวกรรมเครื่องกล',
        'mechanical' => 'สาขาวิศวกรรมเครื่องกล',
        'me'         => 'สาขาวิศวกรรมเครื่องกล',
        'โยธา'       => 'วิศวกรรมโยธา',
        'civil'      => 'วิศวกรรมโยธา',
        'ce'         => 'วิศวกรรมโยธา',
        'ไฟฟ้าสื่อสาร'   => 'วิศวกรรมไฟฟ้าสื่อสารและระบบอัจฉริยะ',
        'สื่อสาร'        => 'วิศวกรรมไฟฟ้าสื่อสารและระบบอัจฉริยะ',
        'อิเล็กทรอนิกส์' => 'วิศวกรรมไฟฟ้าสื่อสารและระบบอัจฉริยะ',
        'โทรคมนาคม'     => 'วิศวกรรมไฟฟ้าสื่อสารและระบบอัจฉริยะ',
        'electronics'   => 'วิศวกรรมไฟฟ้าสื่อสารและระบบอัจฉริยะ',
        'telecom'       => 'วิศวกรรมไฟฟ้าสื่อสารและระบบอัจฉริยะ',
        'เมคคาทรอนิกส์'  => 'วิศวกรรมเมคคาทรอนิกส์',
        'mechatronics'  => 'วิศวกรรมเมคคาทรอนิกส์',
        'เครื่องประดับ'   => 'วิศวกรรมการผลิตเครื่องประดับ',
        'jewelry'       => 'วิศวกรรมการผลิตเครื่องประดับ',
        'เครื่องมือ'      => 'สาขาวิศวกรรมเครื่องมือและแม่พิมพ์',
        'แม่พิมพ์'       => 'สาขาวิศวกรรมเครื่องมือและแม่พิมพ์',
        'tool'          => 'สาขาวิศวกรรมเครื่องมือและแม่พิมพ์',
        'die'           => 'สาขาวิศวกรรมเครื่องมือและแม่พิมพ์',
        'นวัตกรรม'       => 'สาขาวิชาวิศวกรรมการจัดการอุตสาหกรรมเพื่อความยั่งยืน',
        'ยั่งยืน'         => 'สาขาวิชาวิศวกรรมการจัดการอุตสาหกรรมเพื่อความยั่งยืน',
        'sustainable'   => 'สาขาวิชาวิศวกรรมการจัดการอุตสาหกรรมเพื่อความยั่งยืน',
    ];

    // =============================================
    // ===== Department Phones =====
    // =============================================
    public static array $departmentPhones = [
        'วิศวกรรมคอมพิวเตอร์'                                   => '02-836-3000 ต่อ 4160',
        'วิศวกรรมไฟฟ้า'                                          => '02-836-3000 ต่อ 4150, 4151',
        'วิศวกรรมไฟฟ้าสื่อสารและระบบอัจฉริยะ'                      => '02-836-3000 ต่อ 4165',
        'วิศวกรรมเครื่องกล'                                        => '02-836-3000 ต่อ 4140, 4141',
        'สาขาวิศวกรรมเครื่องกล'                                    => '02-836-3000 ต่อ 4138',
        'วิศวกรรมอุตสาหการ'                                       => '02-836-3000 ต่อ 4180',
        'สาขาวิศวกรรมอุตสาหการ'                                   => '02-836-3000 ต่อ 4180',
        'วิศวกรรมโยธา'                                            => '02-836-3000 ต่อ 4170-4173',
        'วิศวกรรมเมคคาทรอนิกส์'                                    => '02-836-3000 ต่อ 4145',
        'วิศวกรรมการผลิตเครื่องประดับ'                               => '02-836-3000 ต่อ 4135',
        'สาขาวิศวกรรมเครื่องมือและแม่พิมพ์'                          => '02-836-3000 ต่อ 4142',
        'สาขาวิชาวิศวกรรมการจัดการอุตสาหกรรมเพื่อความยั่งยืน'        => '02-836-3000 ต่อ 4180',
    ];

    // =============================================
    // ===== Department Labels (for display) =====
    // =============================================
    public static array $departmentLabels = [
        'electrical_engineering'         => 'ไฟฟ้า',
        'computer_engineering'           => 'คอมพิวเตอร์',
        'mechanical_engineering'         => 'เครื่องกล',
        'industrial_engineering'         => 'อุตสาหการ',
        'civil_engineering'              => 'โยธา',
        'mechatronics_engineering'       => 'เมคคาทรอนิกส์',
        'electronics_telecom_engineering'=> 'ไฟฟ้าสื่อสารฯ',
        'jewelry_engineering'            => 'เครื่องประดับ',
        'tool_engineering'               => 'เครื่องมือ',
        'sime_engineering'               => 'SIME/ยั่งยืน',
        'general'                        => 'ทั่วไป',
        'student_affairs'                => 'กิจการนักศึกษา',
        'graduate'                       => 'บัณฑิตศึกษา',
        'undergraduate'                  => 'ปริญญาตรี',
        'vocational'                     => 'ปวช./ปวส.',
        'vocational_computer'            => 'ปวช.คอม',
    ];

    // คำที่ขอดูรายชื่ออาจารย์ทั่วไป (ไม่ระบุสาขา)
    public static array $generalListKeywords = [
        'ดูรายชื่อ', 'รายชื่ออาจารย์', 'รายชื่อ', 'ดูอาจารย์', 'list',
    ];

    // =============================================
    // ===== Department Display Labels (ชื่อเต็ม + emoji) =====
    // =============================================
    public static array $departmentDisplayLabels = [
        'electrical_engineering'          => '🔌 วิศวกรรมไฟฟ้า',
        'computer_engineering'            => '💻 วิศวกรรมคอมพิวเตอร์',
        'mechanical_engineering'          => '⚙️ วิศวกรรมเครื่องกล',
        'industrial_engineering'          => '🏭 วิศวกรรมอุตสาหการ',
        'civil_engineering'               => '🏗️ วิศวกรรมโยธา',
        'mechatronics_engineering'        => '🤖 วิศวกรรมเมคคาทรอนิกส์',
        'electronics_telecom_engineering' => '📡 วิศวกรรมไฟฟ้าสื่อสารและระบบอัจฉริยะ',
        'jewelry_engineering'             => '💎 วิศวกรรมเครื่องประดับ',
        'tool_engineering'                => '🔧 วิศวกรรมเครื่องมือและแม่พิมพ์',
        'sime_engineering'                => '🏭 วิศวกรรมการจัดการอุตสาหกรรมเพื่อความยั่งยืน',
    ];

    // =============================================
    // ===== Generic Question Detection Keywords =====
    // =============================================
    // Keywords ที่แต่ละสาขาอาจตอบต่างกัน (เฉพาะข้อมูลเฉพาะสาขา)
    public static array $genericKeywords = [
        'ค่าเทอม', 'ค่าเล่าเรียน', 'ค่าใช้จ่าย', 'tuition', 'fee',
        'หลักสูตร', 'curriculum',
        'เปิดสอน', 'สอนอะไร',
        'รับสมัคร', 'สมัครเรียน', 'admission', 'เข้าเรียน',
        'โอกาสทำงาน', 'อาชีพ', 'career', 'job',
    ];

    // Keywords ที่เป็นเรื่องทั่วไป (ทุกสาขาเหมือนกัน) - ไม่ควรเป็น Generic
    public static array $universalKeywords = [
        'ลงทะเบียน', 'register', 'เพิ่มวิชา', 'ถอนวิชา', 'add', 'drop',
        'ชำระเงิน', 'จ่ายเงิน', 'โอนเงิน', 'payment', 'pay',
        'ยังไง', 'อย่างไร', 'วิธี', 'ขั้นตอน', 'how to',
        'ฝึกงาน', 'internship', 'สหกิจ', 'coop',
        'หอพัก', 'dormitory', 'dorm',
        'โรงอาหาร', 'cafeteria', 'canteen',
        'ทุนการศึกษา', 'scholarship',
        'เกรด', 'GPA', 'GPAX', 'ติด F', 'ติด I', 'สอบตก', 'เรียนซ้ำ', 'แก้เกรด', 'Re-grade',
        'พ้นสภาพ', 'รีไทร์', 'retire', 'Incomplete',
        // กยศ./กรอ. keywords — ถ้ามีคำเหล่านี้แสดงว่าถามเรื่องกองทุน ไม่ใช่ generic
        'กยศ', 'กรอ', 'DSL', 'กู้ยืม', 'กู้เกิน', 'จิตอาสา',
        'ผู้กู้', 'รายเก่า', 'รายใหม่', 'เลื่อนชั้นปี',
    ];

    // คำระบุสาขา — ถ้ามีในข้อความแสดงว่าเจาะจงแล้ว ไม่ใช่ generic
    public static array $departmentDetectKeywords = [
        'ไฟฟ้า', 'คอมพิวเตอร์', 'คอม', 'เครื่องกล', 'อุตสาหการ',
        'เมคคาทรอนิกส์', 'โยธา', 'อิเล็กทรอนิกส์', 'เครื่องประดับ', 'อัญมณี',
        'เครื่องมือ', 'แม่พิมพ์', 'สื่อสาร', 'อัจฉริยะ',
        'อส.บ', 'อส.บ.', 'SIME', 'วศ.บ', 'วศ.บ.', 'วศ.ม', 'วศ.ม.',
        'วิศวะ', 'วิศวกรรม', 'คณะวิศวะ', 'ยั่งยืน',
        'electrical', 'computer', 'mechanical', 'industrial',
        'civil', 'electronics', 'jewelry',
    ];

}
